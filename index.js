(function () {var a={data:function(){return{isLoading:!1,issue:"",user:{email:"",password:"",remember:!1}}},computed:{fields:function(){return{email:{autofocus:!0,label:this.$t("email"),type:"email",required:!0,link:!1},password:{label:this.$t("password"),type:"password",minLength:8,required:!0,autocomplete:"current-password",counter:!1}}}},methods:{casLogin:function(){window.location.assign(window.location.origin+"/login-cas")},login:function(){var i=this;this.issue=null,this.isLoading=!0,this.$store.dispatch("user/login",this.user).then(function(){i.$store.dispatch("system/load",!0).then(function(){i.$store.dispatch("notification/success",i.$t("welcome")),i.isLoading=!1})}).catch(function(){i.issue=i.$t("error.access.login"),i.isLoading=!1})}}};if(typeof a==="function"){a=a.options}Object.assign(a,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("form",{staticClass:"k-login-form",on:{"submit":function($event){$event.preventDefault();return _vm.login($event)}}},[_c("h1",{staticClass:"k-offscreen"},[_vm._v(_vm._s(_vm.$t("login")))]),_vm._v(" "),_vm.issue?_c("div",{staticClass:"k-login-alert",on:{"click":function($event){_vm.issue=null}}},[_c("span",[_vm._v(_vm._s(_vm.issue))]),_vm._v(" "),_c("k-icon",{attrs:{"type":"alert"}})],1):_vm._e(),_vm._v(" "),_c("k-fieldset",{attrs:{"novalidate":true,"fields":_vm.fields},model:{value:_vm.user,callback:function($$v){_vm.user=$$v},expression:"user"}}),_vm._v(" "),_c("div",{staticClass:"k-login-buttons"},[_c("span",{staticClass:"k-login-checkbox"},[_c("k-checkbox-input",{attrs:{"value":_vm.user.remember,"label":_vm.$t("login.remember")},on:{"input":function($event){_vm.user.remember=$event}}})],1),_vm._v(" "),_c("k-button",{staticClass:"k-login-button",attrs:{"icon":"check","type":"submit"}},[_vm._v(" "+_vm._s(_vm.$t("login"))+" "),_vm.isLoading?[_vm._v("\u2026")]:_vm._e()],2)],1),_vm._v(" "),_c("k-button",{attrs:{"icon":"users"},on:{"click":function($event){return _vm.casLogin()}}},[_vm._v(" "+_vm._s(_vm.$t("kirby-cas.connect"))+" ")])],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());panel.plugin("flupe/kirby-cas",{login:a});})();